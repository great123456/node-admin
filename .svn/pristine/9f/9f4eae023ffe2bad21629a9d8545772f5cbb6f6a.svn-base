/*! emomoBms 2017-02-10 */
var request=require("request"),config=require("../config"),defaultOption=config.initBase.httpOption;exports.doGet=function(a,b,c){var d={};d=void 0==a||""==a?defaultOption:a;var e=defaultOption.port,f=defaultOption.host;void 0!=d.port&&(e=d.port),void 0!=d.host&&(f=d.host);var g=defaultOption.httpType;"https"==d.httpType&&(g="https");var h="";h=80==d.port?g+"://"+f+d.path:g+"://"+f+":"+e+d.path,console.log(h);var i={method:"GET",url:h,headers:c};void 0!=c&&(i.headers=c),request(i,function(a,c,d){if(a||200!=c.statusCode){var e={mes:"请求出错"};b(a,e)}else{console.log(d);var e=JSON.parse(d);b(c.statusCode,e)}})},exports.doPost=function(a,b,c){var d={};d=void 0==a||""==a?defaultOption:a;var e=defaultOption.port,f=defaultOption.host;void 0!=d.port&&(e=d.port),void 0!=d.host&&(f=d.host);var g=defaultOption.httpType;"https"==d.httpType&&(g="https");var h=g+"://"+f+":"+e+d.path;console.log(h);var i={method:"POST",url:h};defaultOption.postType;if("form"==d.postType)request.post({url:h,form:d.params},function(a,c,d){if(error||200!=c.statusCode){var e={mes:"请求出错"};b(error,e)}else{console.log(d);var e=JSON.parse(d);b(c.statusCode,e)}});else{i.body=d.body;var j={};void 0!=c?(j=c,j["Content-Type"]="application/json"):j={"Content-Type":"application/json"},i.headers=j,console.log(i),request(i,function(a,c,d){if(a||200!=c.statusCode){var e={mes:"请求出错"};b(a,e)}else{console.log(d);var e=JSON.parse(d);b(c.statusCode,e)}})}};