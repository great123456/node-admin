/*! emomoBms 2017-02-10 */
ace.add_touch_drag=function(a){if(ace.vars.touch){var b="touchstart MSPointerDown pointerdown",c="touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",d="touchmove MSPointerMove MSPointerHover pointermove";a.event.special.ace_drag={setup:function(){var e=0,f=a(this);f.on(b,function(b){function g(a){if(j){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;if(h={coords:[b.pageX,b.pageY]},j&&h&&(l=0,m=0,k=Math.abs(m=j.coords[1]-h.coords[1])>e&&Math.abs(l=j.coords[0]-h.coords[0])<=Math.abs(m)?m>0?"up":"down":Math.abs(l=j.coords[0]-h.coords[0])>e&&Math.abs(m)<=Math.abs(l)&&(l>0?"left":"right"),k!==!1)){var c={cancel:!1};j.origin.trigger({type:"ace_drag",direction:k,dx:l,dy:m,retval:c}),0==c.cancel&&a.preventDefault()}j.coords[0]=h.coords[0],j.coords[1]=h.coords[1]}}var h,i=b.originalEvent.touches?b.originalEvent.touches[0]:b,j={coords:[i.pageX,i.pageY],origin:a(b.target)},k=!1,l=0,m=0;f.on(d,g).one(c,function(a){f.off(d,g),j=h=void 0})})}}}};