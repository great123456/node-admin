/*! emomoBms 2017-02-10 */
ace.enable_ajax_content=function(a,b){function c(b,c,f){var g;if(a(document).trigger(g=a.Event("ajaxloadstart"),{url:b,hash:c}),!g.isDefaultPrevented()){var n=a(".page-content-area");n.css("opacity",.25);var o=a('<div style="position: fixed; z-index: 2000;" class="ajax-loading-overlay"><i class="ajax-loading-icon fa fa-spin '+h+'"></i> '+i+"</div>").insertBefore(n),p=n.offset();o.css({top:p.top,left:p.left}),a.ajax({url:b}).complete(function(){n.css("opacity",.8),a(document).on("ajaxscriptsloaded",function(){n.css("opacity",1),n.prevAll(".ajax-loading-overlay").remove()})}).error(function(){a(document).trigger("ajaxloaderror",{url:b,hash:c})}).done(function(g){a(document).trigger("ajaxloaddone",{url:b,hash:c});var h=a('a[data-url="'+c+'"]'),i="";if(h.length>0){var o=h.closest(".nav");o.length>0&&(l&&(o.find(".active").each(function(){var b="active";(a(this).hasClass("hover")||m)&&(b+=" open"),a(this).removeClass(b),m&&a(this).find(" > .submenu").css("display","")}),h.closest("li").addClass("active").parents(".nav li").addClass("active open"),"sidebar_scroll"in ace.helper&&(ace.helper.sidebar_scroll.reset(),f&&ace.helper.sidebar_scroll.scroll_to_active())),j&&(i=d(h)))}g=String(g).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>"),n.empty().html(g),n.css("opacity",.6),setTimeout(function(){a("head").find("link.ajax-stylesheet").remove();var b=a("head").find("link#main-ace-style");n.find(".ajax-append-link").each(function(c){var d=a(this);if(d.attr("href")){var e=jQuery("<link />",{type:"text/css",rel:"stylesheet",class:"ajax-stylesheet"});b.length>0?e.insertBefore(b):e.appendTo("head"),e.attr("href",d.attr("href"))}d.remove()})},10),k&&e(i,n),f||a("html,body").animate({scrollTop:0},250),a(document).trigger("ajaxloadcomplete",{url:b,hash:c})})}}function d(b){var c="",d=a(".breadcrumb");if(d.length>0&&d.is(":visible")){d.find("> li:not(:first-child)").remove();var e=0;b.parents(".nav li").each(function(){var b=a(this).find("> a"),f=b.clone();f.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var g=f.text();f.remove();var h=b.attr("href");if(0==e){var i=a('<li class="active"></li>').appendTo(d);i.text(g),c=g}else{var i=a("<li><a /></li>").insertAfter(d.find("> li:first-child"));i.find("a").attr("href",h).text(g)}e++})}return c}function e(b,c){var d=c.find(".ajax-append-title");if(d.length>0)document.title=d.text(),d.remove();else if(b.length>0){var e=a.trim(String(document.title).replace(/^(.*)[\-]/,""));e&&(e=" - "+e),b=a.trim(b)+e}}var f=b.content_url||!1,g=b.default_url||!1,h=b.loading_icon||"fa-spinner fa-2x orange",i=b.loading_text||"",j=b.update_breadcrumbs||"undefined"==typeof b.update_breadcrumbs,k=b.update_title||"undefined"==typeof b.update_title,l=b.update_active||"undefined"==typeof b.update_active,m=b.close_active||"undefined"==typeof b.close_active;a(window).off("hashchange.ajax").on("hashchange.ajax",function(b,d){var e=a.trim(window.location.hash);if(e&&0!=e.length){e=e.replace(/^(\#\!)?\#/,"");var g=!1;"function"==typeof f&&(g=f(e)),"string"==typeof g&&c(g,e,d||!1)}}).trigger("hashchange.ajax",[!0]),g&&""==window.location.hash&&(window.location.hash=g)},ace.load_ajax_scripts=function(a,b){jQuery.ajaxPrefilter("script",function(a){a.cache=!0}),setTimeout(function(){"ajax_loaded_scripts"in ace.vars||(ace.vars.ajax_loaded_scripts={});for(var c=[],d=0;d<a.length;d++)a[d]&&!function(){var b="js-"+a[d].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");b in ace.vars.ajax_loaded_scripts||c.push(jQuery.getScript(a[d]).done(function(){ace.vars.ajax_loaded_scripts[b]=!0}))}();c.length>0?(c.push(jQuery.Deferred(function(a){jQuery(a.resolve)})),jQuery.when.apply(null,c).then(function(){"function"==typeof b&&b(),jQuery('.btn-group[data-toggle="buttons"] > .btn').button(),$(document).trigger("ajaxscriptsloaded")})):("function"==typeof b&&b(),jQuery('.btn-group[data-toggle="buttons"] > .btn').button(),$(document).trigger("ajaxscriptsloaded"))},10)};