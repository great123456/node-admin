/*! emomoBms 2017-02-10 */
ace.sidebar_scrollable=function(a,b){if(a.fn.ace_scroll){var c=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),d=a(".sidebar"),e=(a(".navbar"),d.find(".nav-list")),f=d.find(".sidebar-toggle"),g=d.find(".sidebar-shortcuts"),h=a(window),i=d.get(0),j=e.get(0);if(i&&j){var k,l,m=function(){return"absolute"==i.first("li.hover > .submenu").css("position")},n=null,o=null,p=null,q=!1,r=!1,s=b.scroll_to_active||!1,t=b.include_shortcuts||!1,u=b.include_toggle||!1,v=b.only_if_fixed&&!0,w="getComputedStyle"in window?function(){return i.offsetHeight,"fixed"==window.getComputedStyle(i).position}:function(){return i.offsetHeight,"fixed"==d.css("position")},x=w(),y=d.hasClass("h-sidebar"),z=ace.helper.sidebar_scroll={available_height:function(){var a=e.parent().offset();return x&&(a.top-=ace.helper.scrollTop()),h.innerHeight()-a.top-(u?0:f.outerHeight())},content_height:function(){return j.scrollHeight},initiate:function(a){if(!r&&!(v&&!x||m())){if(e.wrap("<div />"),t&&e.parent().prepend(g),u&&e.parent().append(f),n=e.parent().ace_scroll({size:z.available_height(),reset:!0,mouseWheelLock:!0,hoverReset:!1}).closest(".ace-scroll").addClass("nav-scroll"),p=n.data("ace_scroll"),o=n.find(".scroll-content").eq(0),c&&!u){var b=f.get(0);b&&o.on("scroll.safari",function(){ace.helper.redraw(b)})}if(r=!0,1==a){if(z.reset(),s&&p&&p.is_active())try{var h,i=d.find(".nav-list");ace.vars.minimized&&!ace.vars.collapsible?h=i.find("> .active"):(h=e.find("> .active.hover"),0==h.length&&(h=e.find(".active:not(.open)")));var j=h.outerHeight();i=i.get(0);for(var k=h.get(0);k!=i;)j+=k.offsetTop,k=k.parentNode;var l=j-n.height();l>0&&o.scrollTop(l)}catch(a){}s=!1}}},reset:function(){if(v&&!x||m())return void z.disable();r||z.initiate(),d.addClass("sidebar-scroll");var a=!ace.vars.minimized&&!ace.vars.collapsible&&(!y||y&&ace.vars.mobile_view)&&(k=z.available_height())<(l=j.parentNode.scrollHeight);q=!0,a&&p&&p.update({size:k}).enable().reset(),a&&p.is_active()||q&&z.disable()},disable:function(){q=!1,p&&p.disable(),d.removeClass("sidebar-scroll")},prehide:function(a){if(q&&!ace.vars.minimized)if(z.content_height()+a<z.available_height())z.disable();else if(a<0){var b=o.scrollTop()+a;if(b<0)return;o.scrollTop(b)}}};z.initiate(!0),a(document).on("settings.ace.scroll",function(a,b,c){"sidebar_collapsed"==b?1==c?z.disable():z.reset():"sidebar_fixed"!==b&&"navbar_fixed"!==b||(x=w(),x&&!q?z.reset():!x&&v&&z.disable())}),h.on("resize.ace.scroll",function(){x=w(),z.reset()}),d.on("hidden.ace.submenu shown.ace.submenu",".submenu",function(a){a.stopPropagation(),ace.vars.minimized||(ace.vars.webkit?setTimeout(function(){z.reset()},0):z.reset())})}}};