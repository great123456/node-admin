/*! emomoBms 2017-02-10 */
ace.sidebar_scrollable=function(a,b){if(a.fn.ace_scroll){var c=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),d=a(".sidebar"),e=(a(".navbar"),d.find(".nav-list")),f=d.find(".sidebar-toggle"),g=d.find(".sidebar-shortcuts"),h=a(window),i=d.get(0),j=e.get(0);if(i&&j){var k,l,m=null,n=null,o=null,p=null,q=null,r=!1,s=!1,t=b.scroll_to_active||!1,u=b.include_shortcuts||!1,v=b.include_toggle||!1,w=b.smooth_scroll||!1,x=b.outside||!1,y="getComputedStyle"in window?function(){return i.offsetHeight,"fixed"==window.getComputedStyle(i).position}:function(){return i.offsetHeight,"fixed"==d.css("position")},z=y(),A=d.hasClass("h-sidebar"),B=ace.helper.sidebar_scroll={available_height:function(){var a=e.parent().offset();return z&&(a.top-=ace.helper.scrollTop()),h.innerHeight()-a.top-(v?0:f.outerHeight())},content_height:function(){return j.scrollHeight},initiate:function(b){if(!s&&z){e.wrap('<div style="position: relative;" />'),e.after("<div><div></div></div>"),e.wrap('<div class="nav-wrap" />'),v||f.css({"z-index":1}),u||g.css({"z-index":99}),m=e.parent().next().ace_scroll({size:B.available_height(),reset:!0,mouseWheelLock:!0,hoverReset:!1,dragEvent:!0,touchDrag:!1}).closest(".ace-scroll").addClass("nav-scroll"),q=m.data("ace_scroll"),n=m.find(".scroll-content").eq(0),o=n.find(" > div").eq(0),p=m.find(".scroll-bar").eq(0),u&&(e.parent().prepend(g).wrapInner("<div />"),e=e.parent()),v&&(e.append(f),e.closest(".nav-wrap").addClass("nav-wrap-t")),e.css({position:"relative"}),x===!0&&m.addClass("scrollout"),j=e.get(0),j.style.top=0,n.on("scroll.nav",function(){j.style.top=-1*this.scrollTop+"px"}),e.on("mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(a){return m.trigger(a)});var d=n.get(0);if(e.on("ace_drag.nav",function(a){if(!r)return void(a.retval.cancel=!0);if("up"==a.direction||"down"==a.direction){q.move_bar(!0);var b=a.dy;b=parseInt(Math.min(k,b)),Math.abs(b)>2&&(b*=2),0!=b&&(d.scrollTop=d.scrollTop+b,j.style.top=-1*d.scrollTop+"px")}}),w&&e.on("touchstart.nav MSPointerDown.nav pointerdown.nav",function(a){e.css("transition-property","none"),p.css("transition-property","none")}).on("touchend.nav touchcancel.nav MSPointerUp.nav MSPointerCancel.nav pointerup.nav pointercancel.nav",function(a){e.css("transition-property","top"),p.css("transition-property","top")}),c&&!v){var h=f.get(0);h&&n.on("scroll.safari",function(){ace.helper.redraw(h)})}if(s=!0,1==b&&(B.reset(),t&&B.scroll_to_active(),t=!1),"number"==typeof w&&w>0&&(e.css({"transition-property":"top","transition-duration":(w/1e3).toFixed(2)+"s"}),p.css({"transition-property":"top","transition-duration":(w/1500).toFixed(2)+"s"}),m.on("drag.start",function(a){a.stopPropagation(),e.css("transition-property","none")}).on("drag.end",function(a){a.stopPropagation(),e.css("transition-property","top")})),ace.vars.android){var i=ace.helper.scrollTop();i<2&&(window.scrollTo(i,0),setTimeout(function(){B.reset()},20));var l,y=ace.helper.winHeight();a(window).on("scroll.ace_scroll",function(){r&&q.is_active()&&(l=ace.helper.winHeight(),l!=y&&(y=l,B.reset()))})}}},scroll_to_active:function(){if(q&&q.is_active())try{var a,b=d.find(".nav-list");ace.vars.minimized&&!ace.vars.collapsible?a=b.find("> .active"):(a=e.find("> .active.hover"),0==a.length&&(a=e.find(".active:not(.open)")));var c=a.outerHeight();b=b.get(0);for(var f=a.get(0);f!=b;)c+=f.offsetTop,f=f.parentNode;var g=c-m.height();g>0&&(j.style.top=-g+"px",n.scrollTop(g))}catch(a){}},reset:function(){if(!z)return void B.disable();s||B.initiate();var a=!ace.vars.collapsible&&(!A||A&&ace.vars.mobile_view)&&(k=B.available_height())<(l=j.scrollHeight);r=!0,a&&(o.css({height:l,width:8}),m.prev().css({"max-height":k}),q.update({size:k}).enable().reset()),a&&q.is_active()?d.addClass("sidebar-scroll"):r&&B.disable()},disable:function(){r=!1,m&&(m.css({height:"","max-height":""}),o.css({height:"",width:""}),m.prev().css({"max-height":""}),q.disable()),parseInt(j.style.top)<0&&w&&ace.vars.transition?e.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",function(){d.removeClass("sidebar-scroll"),e.off(".trans")}):d.removeClass("sidebar-scroll"),j.style.top=0},prehide:function(a){if(r&&!ace.vars.minimized)if(B.content_height()+a<B.available_height())B.disable();else if(a<0){var b=n.scrollTop()+a;if(b<0)return;j.style.top=-1*b+"px"}},_reset:function(){ace.vars.webkit?setTimeout(function(){B.reset()},0):B.reset()}};B.initiate(!0),a(document).on("settings.ace.scroll",function(a,b,c){"sidebar_collapsed"==b&&z?B.reset():"sidebar_fixed"!==b&&"navbar_fixed"!==b||(z=y(),z&&!r?B.reset():z||B.disable())}),h.on("resize.ace.scroll",function(){z=y(),B.reset()}),d.on("hidden.ace.submenu shown.ace.submenu",".submenu",function(a){a.stopPropagation(),ace.vars.minimized||B._reset()})}}};